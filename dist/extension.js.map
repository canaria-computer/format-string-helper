{"version":3,"file":"extension.js","mappings":"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","sources":["webpack://format-string-helper/external commonjs \"vscode\"","webpack://format-string-helper/webpack/bootstrap","webpack://format-string-helper/./src/extension.ts"],"sourcesContent":["module.exports = require(\"vscode\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import * as vscode from \"vscode\";\n\nasync function activate(context: vscode.ExtensionContext) {\n\tconst disposable = vscode.commands.registerCommand(\"format-string-helper.helpFormatString\", async () => {\n\t\tlet lang = await getActiveDocumentLanguageId();\n\t\tlet insertCode = \"\";// 挿入されるコードを予約\n\t\tif (lang) {\n\t\t\tvscode.window.showInformationMessage(`Running language: ${lang}`);\n\t\t}\n\t\t// -------------------------\n\t\t// 言語に応じた処理\n\t\tif (lang === \"go\" || lang === \"c\") {\n\t\t\tinsertCode = await handleGoLanguage();\n\t\t} else if (lang === \"javascript\" || lang === \"typescript\") {\n\t\t\tawait handleUnsupportedLanguage();\n\t\t} else {\n\t\t\t// 未対応の言語\n\t\t\tawait handleUnsupportedLanguage();\n\t\t}\n\t\t// -------------------------\n\t\tif (insertCode === \"Cancel\") {// 処理のキャンセルを行う\n\t\t\treturn;\n\t\t} else {\n\t\t\t// 成形\n\t\t\tinsertCode = getEnclosedString(insertCode);\n\t\t\t// 書き込み\n\t\t\teditInsert(insertCode);\n\t\t}\n\t});\n\tcontext.subscriptions.push(disposable);\n}\n\nasync function selectLanguage(): Promise<string> {\n\tconst languages = await vscode.languages.getLanguages();\n\tconst selectedLanguage = await vscode.window.showQuickPick(languages);\n\treturn selectedLanguage || '';\n}\n\nasync function handleGoLanguage(): Promise<string> {\n\tlet response = {\n\t\tsymbol: Object.freeze(\"%\"),\t// 0\n\t\tflag: \"\",\t// 1\n\t\twidth: \"\",\t// 2\n\t\tprecision: \"\",\t// 3\n\t\tverb: \"\"\t// 4\n\t};\n\tconst singleAnswerType = Object.freeze({\n\t\t// eslint-disable-next-line @typescript-eslint/naming-convention\n\t\tY: \"YES\",\n\t\t// eslint-disable-next-line @typescript-eslint/naming-convention\n\t\tN: \"No\",\n\t\t// eslint-disable-next-line @typescript-eslint/naming-convention\n\t\tC: \"Cancel\"\n\t});\n\tconst singleAnswerList = Object.freeze(Object.values(singleAnswerType));\n\tinterface VerbDictionary {\n\t\t[key: string]: { [key: string]: string };\n\t}\n\tconst verbDict: VerbDictionary = Object.freeze({\n\t\t// ? 成形のためからのコメント\n\t\t// eslint-disable-next-line @typescript-eslint/naming-convention\n\t\tDEFAULT_VERB: Object.freeze(/*\t\t\t*/{ \"v\": \"%v\", \"plus_v\": \"%+v\", \"sharp_v\": \"%#v\", \"T\": \"%T\" }),\t// eslint-disable-next-line @typescript-eslint/naming-convention\n\t\tBOOLEAN: Object.freeze(/*\t\t\t\t*/{ \"t\": \"%t\" }),\t\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/naming-convention\n\t\tINT: Object.freeze(/*\t\t\t\t\t*/{ \"d\": \"%d\", \"b\": \"%b\", \"o\": \"%o\", \"x\": \"%x\", \"X\": \"%X\", \"c\": \"%c\", \"q\": \"%q\" }),// eslint-disable-next-line @typescript-eslint/naming-convention\n\t\tFLOAT_AND_COMPLEX: Object.freeze(/*\t\t*/{ \"b\": \"%b\", \"e\": \"%e\", \"E\": \"%E\", \"f\": \"%f\", \"F\": \"%F\", \"g\": \"%g\", \"G\": \"%G\" }),// eslint-disable-next-line @typescript-eslint/naming-convention\n\t\tSTRING_AND_BYTE_ARRAY: Object.freeze(/*\t*/{ \"s\": \"%s\", \"q\": \"%q\", \"x\": \"%x\", \"X\": \"%X\" }),\t\t\t\t// eslint-disable-next-line @typescript-eslint/naming-convention\n\t\tFLAG: Object.freeze(/*\t\t\t\t\t*/{ \"plus\": \"+\", \"sharp\": \"#\", \"space\": \" \", \"zero\": \"0\", \"minus\": \"-\", }),\n\t});\n\t/**\n\t * YES/NOで答えられる質問を実行し真偽値を返す\n\t * @param question 質問したいメッセージ\n\t * @returns \"Yes\" \"No\" \"Cancel\"のいずれか\n\t */\n\tasync function yesNoPrompt(question: string): Promise<string> {\n\t\tconst userResponse = await vscode.window.showQuickPick(singleAnswerList, {\n\t\t\tplaceHolder: question\n\t\t});\n\t\tif (userResponse === undefined || userResponse === singleAnswerType.C) {\n\t\t\tvscode.window.showWarningMessage(\"実行をキャンセル\");\n\t\t\treturn singleAnswerType.C;\n\t\t} else {\n\t\t\treturn userResponse;\n\t\t}\n\t}\n\n\t/**\n\t * 選択式の質問を実行し回答を返す\n\t * @param question 質問文\n\t * @param optionData 回答選択肢\n\t * @returns 回答文字列\n\t * @note `Cancel`がデフォルトで設定されている\n\t */\n\tasync function quickPickPrompt(question: string, optionData: { label: string, description: string, value: string }[]): Promise<string | undefined> {\n\t\t// Cancelを追加\n\t\toptionData.push({ label: \"Cancel\", description: \"\", value: \"Cancel\" });\n\t\tconst response = await vscode.window.showQuickPick(optionData, { placeHolder: question });\n\t\tif (response) {\n\t\t\treturn response.value;\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\tfunction isAnswerInvalid(answer: string | undefined): boolean {\n\t\treturn answer === undefined || answer === singleAnswerType.C;\n\t}\n\n\t// TODO: 選択された出力フォーマットでGo言語ロジックを扱う\n\t// 基本型\n\tconst isDefaultUseUserAnswer = await quickPickPrompt(\"書式指定子を選べ\", [\n\t\t{ label: \"デフォルトの表現\", description: verbDict.DEFAULT_VERB.v, value: verbDict.DEFAULT_VERB.v },\n\t\t{ label: \"構造体の場合にフィールド名出力\", description: verbDict.DEFAULT_VERB.plus_v, value: verbDict.DEFAULT_VERB.plus_v },\n\t\t{ label: \"Goの文法表現出力\", description: verbDict.DEFAULT_VERB.sharp_v, value: verbDict.DEFAULT_VERB.sharp_v },\n\t\t{ label: \"データ型を出力\", description: verbDict.DEFAULT_VERB.T, value: verbDict.DEFAULT_VERB.T },\n\t\t{ label: \"データ型別で選ぶ\", description: \"データ型の種類から選択\", value: \"other\" },\n\n\t]);\n\tif (isAnswerInvalid(isDefaultUseUserAnswer)) {\n\t\treturn singleAnswerType.C;\n\t} else if (Object.values(verbDict.DEFAULT_VERB).includes(isDefaultUseUserAnswer as string)) {\n\t\t// 回答と値の集合と照合\n\t\tresponse.verb += isDefaultUseUserAnswer!.replace(\"%\", \"\"); // %は最後に付けるので消す\n\t}\n\tif (isDefaultUseUserAnswer === \"other\") {\n\t\t// 詳細選択\n\t\tconst dataTypeQuestionUserAnswer = await quickPickPrompt(\"データ型を選べ\", [\n\t\t\t{ label: \"bool\", description: \"論理値/Boolean\", value: \"bool\" },\n\t\t\t{ label: \"int\", description: \"整数\", value: \"int\" },\n\t\t\t{ label: \"float*\", description: \"浮動小数点数\", value: \"float\" },\n\t\t\t{ label: \"complex*\", description: \"複素数\", value: \"complex\" },\n\t\t\t{ label: \"string\", description: \"文字列\", value: \"string\" },\n\t\t\t{ label: \"[]byte\", description: \"バイト配列\", value: \"[]byte\" }\n\t\t]);\n\t\tif (isAnswerInvalid(dataTypeQuestionUserAnswer)) {\n\t\t\treturn singleAnswerType.C;\n\t\t} else {\n\t\t\tif (dataTypeQuestionUserAnswer === \"bool\") {\n\t\t\t\tresponse.verb += \"t\";// %は最後に付けるので消す\n\t\t\t}\n\t\t\tif (dataTypeQuestionUserAnswer === \"int\") {\n\t\t\t\tconst answerUserNotation = await quickPickPrompt(\"表現方法を選べ\", [\n\t\t\t\t\t{ label: \"10進数\", description: verbDict.INT.d, value: verbDict.INT.d },\n\t\t\t\t\t{ label: \"2進数\", description: verbDict.INT.b, value: verbDict.INT.b },\n\t\t\t\t\t{ label: \"8進数\", description: verbDict.INT.o, value: verbDict.INT.o },\n\t\t\t\t\t{ label: \"16進数(small)\", description: verbDict.INT.x, value: verbDict.INT.x },\n\t\t\t\t\t{ label: \"16進数(capital)\", description: verbDict.INT.X, value: verbDict.INT.X },\n\t\t\t\t\t{ label: \"ユニコードコードポイントに対応する文字\", description: verbDict.INT.c, value: verbDict.INT.c },\n\t\t\t\t\t{ label: \"対応する文字を''で囲んだ文字\", description: verbDict.INT.q, value: verbDict.INT.q },\n\t\t\t\t]);\n\t\t\t\tif (isAnswerInvalid(dataTypeQuestionUserAnswer)) { return singleAnswerType.C; }\n\t\t\t\tresponse.verb += answerUserNotation!.replace(\"%\", \"\"); // %は最後に付けるので消す\n\t\t\t}\n\t\t\tif (dataTypeQuestionUserAnswer === \"float\" || dataTypeQuestionUserAnswer === \"complex\") {\n\t\t\t\tconst answerUserNotation = await quickPickPrompt(\"表現方法を選べ\", [\n\t\t\t\t\t{ label: \"小数なしの2の累乗指数表記\", description: verbDict.FLOAT_AND_COMPLEX.b, value: verbDict.FLOAT_AND_COMPLEX.b },\n\t\t\t\t\t{ label: \"指数表記(e)\", description: verbDict.FLOAT_AND_COMPLEX.e, value: verbDict.FLOAT_AND_COMPLEX.e },\n\t\t\t\t\t{ label: \"指数表記(E)\", description: verbDict.FLOAT_AND_COMPLEX.E, value: verbDict.FLOAT_AND_COMPLEX.E },\n\t\t\t\t\t{ label: \"指数を使わない\", description: verbDict.FLOAT_AND_COMPLEX.F, value: verbDict.FLOAT_AND_COMPLEX.F },\n\t\t\t\t\t{ label: \"指数を使わない\", description: verbDict.FLOAT_AND_COMPLEX.f, value: verbDict.FLOAT_AND_COMPLEX.f },\n\t\t\t\t\t{ label: \"巨大指数時 指数省略(e)\", description: verbDict.FLOAT_AND_COMPLEX.g, value: verbDict.FLOAT_AND_COMPLEX.g },\n\t\t\t\t\t{ label: \"巨大指数時 指数省略(E)\", description: verbDict.FLOAT_AND_COMPLEX.G, value: verbDict.FLOAT_AND_COMPLEX.G },\n\t\t\t\t]);\n\t\t\t\tif (isAnswerInvalid(dataTypeQuestionUserAnswer)) { return singleAnswerType.C; }\n\t\t\t\tresponse.verb += answerUserNotation!.replace(\"%\", \"\"); // %は最後に付けるので消す\n\t\t\t}\n\t\t\tif (dataTypeQuestionUserAnswer === \"string\" || dataTypeQuestionUserAnswer === \"[]byte\") {\n\t\t\t\tconst answerUserNotation = await quickPickPrompt(\"表現方法を選べ\", [\n\t\t\t\t\t{ label: \"デフォルト\", description: verbDict.STRING_AND_BYTE_ARRAY.s, value: verbDict.STRING_AND_BYTE_ARRAY.s },\n\t\t\t\t\t{ label: \"エスケープされた文字列\", description: verbDict.STRING_AND_BYTE_ARRAY.q, value: verbDict.STRING_AND_BYTE_ARRAY.q },\n\t\t\t\t\t{ label: \"16進数バイト(small)\", description: verbDict.STRING_AND_BYTE_ARRAY.x, value: verbDict.STRING_AND_BYTE_ARRAY.x },\n\t\t\t\t\t{ label: \"16進数バイト(capital)\", description: verbDict.STRING_AND_BYTE_ARRAY.X, value: verbDict.STRING_AND_BYTE_ARRAY.X },\n\t\t\t\t]);\n\t\t\t\tif (isAnswerInvalid(dataTypeQuestionUserAnswer)) { return singleAnswerType.C; }\n\t\t\t\tresponse.verb += answerUserNotation!.replace(\"%\", \"\"); // %は最後に付けるので消す;\n\t\t\t}\n\t\t}// ? 残りはフラグ 特殊表現\n\n\n\t\t// フラグ、幅、精度のオプションをユーザーに促す\n\t\tconst selectedFlagsAnswer = await vscode.window.showQuickPick([\n\t\t\t{ label: verbDict.FLAG.plus, description: \"符号付強制 / `%q` ASCII文字のみ出力\", value: verbDict.FLAG.plus },\n\t\t\t{ label: verbDict.FLAG.minus, description: \"左詰め\", value: verbDict.FLAG.minus },\n\t\t\t{ label: verbDict.FLAG.sharp, description: \"デフォルトとは異なるフォーマット\", value: verbDict.FLAG.sharp },\n\t\t\t{ label: verbDict.FLAG.space, description: \"\", value: verbDict.FLAG.space },\n\t\t\t{ label: verbDict.FLAG.zero, description: \"\", value: verbDict.FLAG.zero },\n\t\t], {\n\t\t\tplaceHolder: \"フラグを選択 または Escキー を押してスキップ\",\n\t\t\tcanPickMany: true // 複数選択可\n\t\t});\n\t\tlet selectedFlags: string | undefined;\n\t\tif (selectedFlagsAnswer) {\n\t\t\t// 結合\n\t\t\tselectedFlags = selectedFlagsAnswer.map(flag => flag.value).join(\"\");\n\t\t}\n\n\t\tconst width = await vscode.window.showInputBox({\n\t\t\tprompt: \"幅を入力する または Escキー を押してスキップ\"\n\t\t});\n\n\t\tconst precision = await vscode.window.showInputBox({\n\t\t\tprompt: \"精度を入力する または Escキー を押してスキップ\"\n\t\t});\n\n\t\t// ユーザーのオプションに基づき、適切な動詞を決定する\n\t\tresponse.flag = `${selectedFlags ?? \"\"}`;\n\t\tresponse.width = `${width ? `${width}` : \"\"}`;\n\t\tresponse.precision = `${precision ? `.${precision}` : \"\"}`;\n\t}\n\n\t// TODO : 設定\n\t// 最後の仕上げ\n\tconst isInsertNewLine = await yesNoPrompt(\"改行しますか?\");\n\tif (isInsertNewLine === singleAnswerType.Y) {\n\t\tresponse.verb += \"\\\\n\";\n\t} else if (isInsertNewLine === singleAnswerType.C) {\n\t\treturn singleAnswerType.C;\n\t}\n\treturn response.symbol + response.flag + response.width + response.precision + response.verb;\n}\n\nasync function handleUnsupportedLanguage(): Promise<void> {\n\tawait vscode.window.showInformationMessage(\"この言語は現在サポートされていません。\");\n}\n\n\nasync function getActiveDocumentLanguageId(): Promise<string | undefined> {\n\tconst editor = vscode.window.activeTextEditor;\n\tif (editor) {\n\t\tlet languageId = editor.document.languageId;\n\t\tif (languageId === \"plaintext\" || languageId === \"markdown\") {\n\t\t\t// 言語を尋ねる\n\t\t\tlanguageId = await selectLanguage();\n\t\t}\n\t\treturn languageId;\n\t}\n\treturn undefined;\n}\n\nfunction getBeforeAndAfterCharacter(): [string | undefined, string | undefined] {\n\tconst editor = vscode.window.activeTextEditor;\n\tif (editor) {\n\t\tconst document = editor.document;\n\t\tconst position = editor.selection.active;\n\t\tconst line = document.lineAt(position.line).text;\n\t\tconst charBefore = line.charAt(position.character - 1);\n\t\tconst charAfter = line.charAt(position.character);\n\t\t// const selectionText = editor.document.getText(editor.selection);\n\t\t// const textBeforeCursor = line.slice(0, position.character);\n\t\t// const textAfterCursor = line.slice(position.character);\n\n\t\treturn [charBefore, charAfter];\n\t}\n\treturn [undefined, undefined];\n}\n\nfunction getEnclosedString(str: string): string {\n\tlet [charB4, charAfter] = getBeforeAndAfterCharacter();\n\tif (\n\t\tcharB4 === \"'\" && charAfter === \"'\" ||\n\t\tcharB4 === '\"' && charAfter === '\"'\n\t) {\n\t\treturn `${str}`;\n\t} else {\n\t\treturn `\"${str}\"`;\n\t}\n}\n\nfunction editInsert(insertStr: String): void {\n\t// 書き込み\n\tconst editor = vscode.window.activeTextEditor;\n\tif (editor) {\n\t\teditor.edit(editBuilder => {\n\t\t\t/* @ts-ignore */// ? エラー黙殺\n\t\t\teditBuilder.insert(editor.selection.active, insertStr);\n\t\t});\n\t}\n}\n\nfunction deactivate() { }\n\nexport { activate, deactivate };"],"names":["module","exports","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","activate","async","context","disposable","vscode","commands","registerCommand","lang","editor","window","activeTextEditor","languageId","document","languages","getLanguages","showQuickPick","selectLanguage","getActiveDocumentLanguageId","insertCode","showInformationMessage","response","symbol","Object","freeze","flag","width","precision","verb","singleAnswerType","Y","N","C","singleAnswerList","values","verbDict","DEFAULT_VERB","BOOLEAN","INT","FLOAT_AND_COMPLEX","STRING_AND_BYTE_ARRAY","FLAG","quickPickPrompt","question","optionData","push","label","description","value","placeHolder","isAnswerInvalid","answer","isDefaultUseUserAnswer","v","plus_v","sharp_v","T","includes","replace","dataTypeQuestionUserAnswer","answerUserNotation","d","b","o","x","X","c","q","e","E","F","f","g","G","s","selectedFlagsAnswer","plus","minus","sharp","space","zero","canPickMany","selectedFlags","map","join","showInputBox","prompt","isInsertNewLine","userResponse","showWarningMessage","yesNoPrompt","handleGoLanguage","handleUnsupportedLanguage","str","charB4","charAfter","position","selection","active","line","lineAt","text","charAt","character","getBeforeAndAfterCharacter","getEnclosedString","insertStr","edit","editBuilder","insert","editInsert","subscriptions","deactivate"],"sourceRoot":""}